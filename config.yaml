# rNews 配置文件
# Webhook 地址使用 ${ENV_VAR} 引用 .env 文件中的环境变量
# 此文件不含敏感信息，可以安全提交到 git

# ============================================================
# 全局设置
# ============================================================
settings:
  # 英文标题自动翻译为中文（在原文后追加中文翻译）
  # 使用 Google Translate 免费接口，海外服务器可直接访问
  # 设为 false 可关闭翻译
  translate: true

  # 定时任务时区（IANA 格式）
  # Timezone for scheduled tasks (IANA format)
  timezone: "Asia/Shanghai"

# ============================================================
# Webhook 配置
# 同一平台类型可以注册多个地址（用于不同的群/频道）
# ============================================================
webhooks:
  # WPS Teams 个人群（测试用）
  wps-teams-personal:
    type: wps-teams
    url: "${WPS_TEAMS_PERSONAL_URL}"

  # WPS Teams IM 应用 Core 群（正式用）
  # wps-teams-im-app-core:
  #   type: wps-teams
  #   url: "${WPS_TEAMS_IM_APP_CORE_URL}"

  # 可以配置多个 WPS Teams webhook
  # wps-teams-tech:
  #   type: wps-teams
  #   url: "${WPS_TEAMS_TECH_URL}"

  # 企业微信
  wecom-personal:
    type: wecom
    url: "${WECOM_PERSONAL_URL}"

# ============================================================
# 新闻类别配置
# 每个类别独立配置数据源和推送渠道
# ============================================================
categories:
  politics:
    name: "时政要闻"
    count: 10
    webhooks: [wps-teams-personal]
    sources:
      - name: "中新网 国际"
        type: rss
        url: "https://www.chinanews.com.cn/rss/world.xml"
      - name: "中新网 时政"
        type: rss
        url: "https://www.chinanews.com.cn/rss/china.xml"
      - name: "BBC World"
        type: rss
        url: "https://feeds.bbci.co.uk/news/world/rss.xml"

  ai:
    name: "AI 前沿"
    count: 10
    webhooks: [wps-teams-personal, wecom-personal]
    sources:
      - name: "TechCrunch AI"
        type: rss
        url: "https://techcrunch.com/category/artificial-intelligence/feed/"
      - name: "MIT Tech Review"
        type: rss
        url: "https://www.technologyreview.com/feed/"
      - name: "The Verge AI"
        type: rss
        url: "https://www.theverge.com/rss/ai-artificial-intelligence/index.xml"

  finance:
    name: "经济金融"
    count: 10
    webhooks: [wps-teams-personal]
    sources:
      - name: "中新网 财经"
        type: rss
        url: "https://www.chinanews.com.cn/rss/finance.xml"
      - name: "36氪"
        type: rss
        url: "https://36kr.com/feed"
      # - name: "CNBC Business"
      #   type: rss
      #   url: "https://search.cnbc.com/rs/search/combinedcms/view.xml?partnerId=wrss01&id=10001147"
      - name: "MarketWatch"
        type: rss
        url: "https://feeds.marketwatch.com/marketwatch/topstories"

  tech:
    name: "科技动态"
    count: 10
    webhooks: [wps-teams-personal]
    sources:
      - name: "The Verge"
        type: rss
        url: "https://www.theverge.com/rss/index.xml"
      - name: "Ars Technica"
        type: rss
        url: "https://feeds.arstechnica.com/arstechnica/index"
      - name: "Wired"
        type: rss
        url: "https://www.wired.com/feed/rss"

  football:
    name: "足球资讯"
    count: 10
    webhooks: [wps-teams-personal]
    sources:
      - name: "BBC Football"
        type: rss
        url: "https://feeds.bbci.co.uk/sport/football/rss.xml"
      - name: "ESPN FC"
        type: rss
        url: "https://www.espn.com/espn/rss/soccer/news"

  frontend:
    name: "前端开发"
    count: 10
    webhooks: [wps-teams-personal, wecom-personal]
    sources:
      - name: "阮一峰的网络日志"
        type: rss
        url: "https://www.ruanyifeng.com/blog/atom.xml"
      - name: "CSS-Tricks"
        type: rss
        url: "https://css-tricks.com/feed/"
      - name: "Smashing Magazine"
        type: rss
        url: "https://www.smashingmagazine.com/feed/"

  trending:
    name: "网络热梗"
    count: 10
    webhooks: [wps-teams-personal, wecom-personal]
    sources:
      - type: baidu-hot
        name: "百度热搜"
      - type: toutiao-hot
        name: "今日头条"
      - name: "Hacker News"
        type: rss
        url: "https://hnrss.org/frontpage?count=20"

  github:
    name: "GitHub 热门项目"
    count: 10
    webhooks: [wps-teams-personal]
    sources:
      - type: github-trending
        language: ""
        since: daily

# ============================================================
# 定时规则（本地调度器使用）
# Schedule rules (used by the local scheduler)
# Cron format: minute hour day-of-month month day-of-week
# Timezone is set in settings.timezone above
# ============================================================
schedule:
  - cron: "0 8 * * *"        # 每天早上 8 点 / 8:00 AM daily
    categories: [politics, ai, tech, finance, frontend, trending, football, github]
  - cron: "0 20 * * *"       # 每天晚上 8 点 / 8:00 PM daily
    categories: [politics, ai, tech, finance, frontend, trending, football, github]
